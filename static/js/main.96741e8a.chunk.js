(this["webpackJsonpfood-truck-classifier"]=this["webpackJsonpfood-truck-classifier"]||[]).push([[0],{12:function(e,a,t){e.exports=t(20)},17:function(e,a,t){},18:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),u=t(5),o=t.n(u),l=(t(17),t(6)),c=t(7),i=t(10),s=t(8),p=t(11),m=(t(18),t(3),function(e){var a=e.groupName,t=e.value,n=e.labels,u=e.onChange,o=n.map((function(e){return r.a.createElement("label",null,r.a.createElement("input",{type:"radio",key:e,name:a,checked:t===e,onChange:function(){u(e)}}),e)}));return r.a.createElement("div",{className:"label-group"},r.a.createElement("p",{className:"group-title"},a),r.a.createElement("div",{className:"group-labels"},o))}),g=t(9),f=function(e){var a=e.groupName,t=e.labels,n=e.value,u=e.onChange,o=t.map((function(e){return r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",key:e,checked:n.includes(e),onChange:function(){var a;a=n.includes(e)?n.filter((function(a){return a!==e})):[].concat(Object(g.a)(n),[e]),u(a)}}),e)}));return r.a.createElement("div",{className:"label-group"},r.a.createElement("p",{className:"group-title"},a),r.a.createElement("div",{className:"group-labels"},o))},b=function(e){var a,t=e.groupName,n=e.range,u=e.value,o=e.onChange;return a=n[1]<n[0]?"Enter a number at or above ".concat(n[0]):"Enter a number between ".concat(n[0]," and ").concat(n[1],", inclusive"),r.a.createElement("div",{className:"label-group"},r.a.createElement("p",{className:"group-title"},t),r.a.createElement("div",{className:"group-labels"},r.a.createElement("input",{type:"number",value:u,placeholder:a,onChange:function(e){return o(""===e.target.value?void 0:parseInt(e.target.value))}})))},v=t(1),h=t.n(v),d=t(2),N=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://food-truck-spy.appspot.com/api/labels").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://food-truck-spy.appspot.com/api/images/").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://food-truck-spy.appspot.com/api/images/".concat(a.bucket,"/").concat(a.key),{body:JSON.stringify(a.labels),method:"PUT"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(s.a)(a).call(this,e))).state={},y().then((function(e){return t.setState({imageDocument:e})})),N().then((function(e){return t.setState({labelGroups:e})})),t}return Object(p.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.labelGroups,n=a.imageDocument;if(void 0===t||void 0===n)return r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"Loading..."));var u=t.map((function(a){var t=n.labels.findIndex((function(e){return e.groupName===a.groupName}));if("multiple"===a.groupType){var u=-1!==t?n.labels[t].value:[];return r.a.createElement(f,{key:a.groupName,groupName:a.groupName,labels:a.labels,onChange:function(t){var r=n.labels.findIndex((function(e){return e.groupName===a.groupName}));-1===r?n.labels.push({groupName:a.groupName,groupType:"multiple",value:t}):n.labels[r].value=t,e.setState({imageDocument:n})},value:u})}return"single"===a.groupType?r.a.createElement(m,{key:a.groupName,groupName:a.groupName,labels:a.labels,onChange:function(t){var r=n.labels.findIndex((function(e){return e.groupName===a.groupName}));-1===r?n.labels.push({groupName:a.groupName,groupType:"single",value:t}):n.labels[r].value=t,e.setState({imageDocument:n})},value:-1!==t?n.labels[t].value:void 0}):"numeric"===a.groupType?r.a.createElement(b,{key:a.groupName,groupName:a.groupName,range:a.range,onChange:function(r){var u=n.labels.findIndex((function(e){return e.groupName===a.groupName}));void 0===r?-1!==u&&(n.labels=n.labels.filter((function(e,a){return a!==t}))):-1===u?n.labels.push({groupName:a.groupName,groupType:"numeric",value:r}):n.labels[u].value=r,e.setState({imageDocument:n})},value:-1!==t?n.labels[t].value:void 0}):null}));return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,n.filename),r.a.createElement("img",{src:"https://food-truck-spy.appspot.com/api/snapshots/".concat(n.bucket,"/").concat(n.key),alt:"Classify"}),r.a.createElement("div",{className:"label-groups"},u),r.a.createElement("button",{type:"button",onClick:function(){E(n).then((function(){y().then((function(a){return e.setState({imageDocument:a})}))}))}},"Commit Changes"))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},3:function(e,a,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.96741e8a.chunk.js.map